# Architecture & Flow Diagrams

Visual representations of the monorepo architecture and tree-shaking flow.

## ğŸ“Š Monorepo Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Workspace Root                          â”‚
â”‚                  (pnpm workspace)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                   â”‚                   â”‚
        â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  @myorg/ui   â”‚    â”‚ @myorg/utils â”‚    â”‚     app      â”‚
â”‚ (Component)  â”‚    â”‚  (Utilities) â”‚    â”‚  (Consumer)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                   â”‚                   â”‚
        â”‚                   â”‚                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                    (workspace links)
```

---

## ğŸ¯ Component Library Structure (@myorg/ui)

```
@myorg/ui
â”‚
â”œâ”€â”€ ğŸ“¦ Package Exports
â”‚   â”œâ”€â”€ "." â†’ dist/index.js (Barrel - ALL components)
â”‚   â”œâ”€â”€ "./button" â†’ dist/button.js (Button only)
â”‚   â”œâ”€â”€ "./table" â†’ dist/table.js (Table only)
â”‚   â”œâ”€â”€ "./input" â†’ dist/input.js (Input only)
â”‚   â””â”€â”€ "./card" â†’ dist/card.js (Card only)
â”‚
â”œâ”€â”€ ğŸ¨ Components
â”‚   â”œâ”€â”€ Button   [~2KB]   â”â”â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
â”‚   â”œâ”€â”€ Input    [~5KB]   â”â”â”â”â–‘â–‘â–‘â–‘â–‘â–‘
â”‚   â”œâ”€â”€ Card     [~8KB]   â”â”â”â”â”â”â–‘â–‘â–‘â–‘
â”‚   â””â”€â”€ Table    [~50KB]  â”â”â”â”â”â”â”â”â”â”  â† Heavy!
â”‚
â””â”€â”€ âš™ï¸ Build Output
    â”œâ”€â”€ index.js (20KB)     - All components
    â”œâ”€â”€ button.js (2KB)     - Button only
    â”œâ”€â”€ table.js (50KB)     - Table only
    â”œâ”€â”€ input.js (5KB)      - Input only
    â””â”€â”€ card.js (8KB)       - Card only
```

---

## ğŸ› ï¸ Utility Library Structure (@myorg/utils)

```
@myorg/utils
â”‚
â”œâ”€â”€ ğŸ“¦ Package Exports
â”‚   â”œâ”€â”€ "." â†’ dist/index.js (Barrel - ALL utils)
â”‚   â”œâ”€â”€ "./date" â†’ dist/date.js (Date only)
â”‚   â”œâ”€â”€ "./string" â†’ dist/string.js (String only)
â”‚   â”œâ”€â”€ "./number" â†’ dist/number.js (Number only)
â”‚   â””â”€â”€ "./validation" â†’ dist/validation.js (Validation only)
â”‚
â”œâ”€â”€ ğŸ”§ Utility Categories
â”‚   â”œâ”€â”€ date         [~7KB + dayjs]  â”â”â”â”â”â”â”â–‘â–‘â–‘
â”‚   â”œâ”€â”€ string       [~2KB]          â”â”â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
â”‚   â”œâ”€â”€ number       [~3KB]          â”â”â”â–‘â–‘â–‘â–‘â–‘â–‘â–‘
â”‚   â””â”€â”€ validation   [~2KB]          â”â”â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
â”‚
â””â”€â”€ âš™ï¸ Build Output
    â”œâ”€â”€ index.js (14KB)       - All utilities
    â”œâ”€â”€ date.js (7KB)         - Date only
    â”œâ”€â”€ string.js (2KB)       - String only
    â”œâ”€â”€ number.js (3KB)       - Number only
    â””â”€â”€ validation.js (2KB)   - Validation only
```

---

## ğŸ”„ Import & Tree-Shaking Flow

### Scenario 1: Subpath Import (Recommended)

```
User Code                 Import Resolution              Bundle Result
â”€â”€â”€â”€â”€â”€â”€â”€â”€                 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

import { Button }    â†’    @myorg/ui/button      â†’       âœ… Button (2KB)
from '@myorg/ui/button'   â”œâ”€ Resolves to:              âŒ Table (excluded)
                          â”‚  dist/button.js             âŒ Input (excluded)
                          â””â”€ Loads: Button only         âŒ Card (excluded)

import { formatDate } â†’   @myorg/utils/date     â†’       âœ… formatDate
from '@myorg/utils/date'  â”œâ”€ Resolves to:              âœ… dayjs (~7KB)
                          â”‚  dist/date.js               âŒ string utils
                          â””â”€ Loads: Date utils          âŒ number utils
                                    + dayjs             âŒ validation utils
```

**Result:** ~9KB (Button + Date utils)

---

### Scenario 2: Barrel Import (Tree-Shaken)

```
User Code                 Import Resolution              Bundle Result
â”€â”€â”€â”€â”€â”€â”€â”€â”€                 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

import { Button }    â†’    @myorg/ui             â†’       âœ… Button (2KB)
from '@myorg/ui'          â”œâ”€ Resolves to:              âŒ Table (tree-shaken!)
                          â”‚  dist/index.js              âŒ Input (tree-shaken!)
                          â”œâ”€ Parses: ALL exports        âŒ Card (tree-shaken!)
                          â””â”€ Bundles: Button only
                             (others tree-shaken)

import { formatDate } â†’   @myorg/utils          â†’       âœ… formatDate
from '@myorg/utils'       â”œâ”€ Resolves to:              âœ… dayjs (~7KB)
                          â”‚  dist/index.js              âŒ string (tree-shaken!)
                          â”œâ”€ Parses: ALL exports        âŒ number (tree-shaken!)
                          â””â”€ Bundles: Date only         âŒ validation (tree-shaken!)
                             (others tree-shaken)
```

**Result:** ~9KB (Same as Scenario 1!)

**Key:** Modern bundlers (Vite/Rollup) analyze exports and eliminate unused code.

---

### Scenario 3: Import Everything (Anti-pattern)

```
User Code                 Import Resolution              Bundle Result
â”€â”€â”€â”€â”€â”€â”€â”€â”€                 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

import * as UI       â†’    @myorg/ui             â†’       âœ… Button (2KB)
from '@myorg/ui'          â”œâ”€ Resolves to:              âœ… Table (50KB) ğŸ˜±
                          â”‚  dist/index.js              âœ… Input (5KB) ğŸ˜±
                          â””â”€ Bundles: EVERYTHING        âœ… Card (8KB) ğŸ˜±
                             (tree-shaking disabled)

import * as Utils    â†’    @myorg/utils          â†’       âœ… date (7KB)
from '@myorg/utils'       â”œâ”€ Resolves to:              âœ… string (2KB) ğŸ˜±
                          â”‚  dist/index.js              âœ… number (3KB) ğŸ˜±
                          â””â”€ Bundles: EVERYTHING        âœ… validation (2KB) ğŸ˜±
```

**Result:** ~79KB (Everything bundled!)

**Problem:** `import *` prevents tree-shaking in most bundlers.

---

## ğŸ“¦ Bundle Composition Comparison

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Scenario 1 & 2: Selective Imports (Tree-Shaken)          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚                                                            â”‚
â”‚  React/ReactDOM  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 42KB        â”‚
â”‚  dayjs           â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 7KB                             â”‚
â”‚  Button          â–ˆâ–ˆ 1KB                                   â”‚
â”‚  App Code        â–ˆâ–ˆ 1KB                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  Total: ~51KB gzipped                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Scenario 3: Import Everything (No Tree-Shaking)          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚                                                            â”‚
â”‚  React/ReactDOM  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 42KB        â”‚
â”‚  Table Component â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 45KB ğŸ˜±         â”‚
â”‚  dayjs           â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 7KB                             â”‚
â”‚  Other Utils     â–ˆâ–ˆâ–ˆâ–ˆ 3KB ğŸ˜±                              â”‚
â”‚  All Components  â–ˆâ–ˆâ–ˆâ–ˆ 3KB ğŸ˜±                              â”‚
â”‚  App Code        â–ˆâ–ˆ 1KB                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  Total: ~101KB gzipped (+50KB waste!)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ Development Workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Developer  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1. Makes changes to UI component
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  packages/ui/   â”‚
â”‚  src/button/    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 2. Rebuild (or watch mode)
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  tsup  â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
         â”‚
         â”‚ 3. Output to dist/
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  packages/ui/   â”‚
â”‚  dist/button.js â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 4. Workspace link
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  pnpm  â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
         â”‚
         â”‚ 5. Available to app
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  app/           â”‚
â”‚  import Button  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 6. Dev server (HMR)
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Vite  â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
         â”‚
         â”‚ 7. Browser refresh
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   localhost     â”‚
â”‚   :5173         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ï¸ Build & Bundle Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Production Build                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                   â”‚                   â”‚
        â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Build UI    â”‚    â”‚  Build Utils â”‚    â”‚  Build App   â”‚
â”‚   (tsup)     â”‚    â”‚   (tsup)     â”‚    â”‚   (Vite)     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                   â”‚
       â”‚ ESM Output        â”‚ ESM Output        â”‚
       â–¼                   â–¼                   â”‚
packages/ui/dist/   packages/utils/dist/      â”‚
â”œâ”€â”€ index.js        â”œâ”€â”€ index.js              â”‚
â”œâ”€â”€ button.js       â”œâ”€â”€ date.js               â”‚
â”œâ”€â”€ table.js        â”œâ”€â”€ string.js             â”‚
â”œâ”€â”€ input.js        â”œâ”€â”€ number.js             â”‚
â””â”€â”€ card.js         â””â”€â”€ validation.js         â”‚
                                               â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Tree Shaking â”‚
            â”‚   (Rollup)    â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚ Analyzes imports
                    â”‚ Removes unused code
                    â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   Minify      â”‚
            â”‚  (esbuild)    â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   Bundle      â”‚
            â”‚   Analysis    â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
               app/dist/
               â”œâ”€â”€ index.html
               â”œâ”€â”€ stats.html
               â””â”€â”€ assets/
                   â”œâ”€â”€ index-[hash].js    (main bundle)
                   â”œâ”€â”€ react-vendor.js    (React/ReactDOM)
                   â””â”€â”€ index.css
```

---

## ğŸ” Tree-Shaking Decision Tree

```
                    Import Statement
                          â”‚
                          â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   Using "import *"?     â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                     No      Yes
                      â”‚       â”‚
                      â”‚       â–¼
                      â”‚  âŒ Tree-shaking disabled
                      â”‚     Bundle: EVERYTHING
                      â”‚
                      â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Named import from      â”‚
            â”‚  barrel export?         â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                     No      Yes
                      â”‚       â”‚
                      â”‚       â–¼
                      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚  â”‚ ESM + sideEffectsâ”‚
                      â”‚  â”‚ = false?         â”‚
                      â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                      â”‚      Yes      No
                      â”‚       â”‚       â”‚
                      â”‚       â”‚       â–¼
                      â”‚       â”‚  âš ï¸ May not tree-shake
                      â”‚       â”‚     Review config
                      â”‚       â”‚
                      â”‚       â–¼
                      â”‚  âœ… Tree-shaking works!
                      â”‚     Bundle: Only used code
                      â”‚
                      â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Subpath import?        â”‚
            â”‚  (@myorg/ui/button)     â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     Yes
                      â”‚
                      â–¼
            âœ… Most reliable!
               Bundle: Only that module
               Fastest build time
```

---

## ğŸ“Š Size Comparison Chart

```
Component/Utility Sizes (gzipped):

Table Component    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  50KB
dayjs              â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  7KB
Card Component     â–ˆâ–ˆâ–ˆâ–ˆ  8KB
Input Component    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  5KB
Number Utils       â–ˆâ–ˆâ–ˆ  3KB
Button Component   â–ˆâ–ˆ  2KB
String Utils       â–ˆâ–ˆ  2KB
Validation Utils   â–ˆâ–ˆ  2KB

Bundle Comparison:

Scenario 1: Button + Date (Subpath)
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  51KB

Scenario 2: Button + Date (Barrel)
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  51KB

Scenario 3: Everything
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  101KB
```

---

## ğŸ¯ Key Takeaways (Visual)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… GOOD PRACTICES                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  import { Button } from '@myorg/ui/button'            â”‚
â”‚  âœ Loads: button.js only                             â”‚
â”‚  âœ Result: Fastest, most reliable                     â”‚
â”‚                                                        â”‚
â”‚  import { Button } from '@myorg/ui'                   â”‚
â”‚  âœ Loads: index.js (parses all)                      â”‚
â”‚  âœ Result: Tree-shakes correctly                      â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âŒ BAD PRACTICES                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  import * as UI from '@myorg/ui'                      â”‚
â”‚  âœ Result: Bundles EVERYTHING                        â”‚
â”‚  âœ Impact: +50KB waste                                â”‚
â”‚                                                        â”‚
â”‚  export default Button                                 â”‚
â”‚  âœ Result: Prevents tree-shaking                      â”‚
â”‚  âœ Impact: Unreliable optimization                    â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**These diagrams illustrate the complete architecture and demonstrate why proper import patterns matter for bundle optimization.**
